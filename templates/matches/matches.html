{% extends "base.html" %}
{% load static %}

{% block content %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Matches</title>
</head>
<body>

    <!-- Matches in Progress -->
    <h2>Matches in Progress</h2>
    <div class="matches-container">
        {% for match in current_matches %}
        <div class="match-card">
            <div class="match-header">
                {{ match.start_time|date:"g:i A" }} - {{ match.start_time|date:"M d, Y" }}
            </div>
            <div class="match-content">
                <div class="team">
                    <img src="{% static 'images/team_logos/'|add:match.team1|add:'.png' %}" alt="{{ match.team1 }}">
                    <span class="team-name">{{ match.team1 }}</span>
                    <a href="{% url 'create_bet' %}?bet_match={{ match.id }}&bet_choice={{ match.team1 }}&selected_odd={{ match.odds_team1 }}" class="odds">
                        {{ match.odds_team1 }}
                    </a>
                </div>
                <div class="match-vs">VS</div>
                <div class="team">
                    <img src="{% static 'images/team_logos/'|add:match.team2|add:'.png' %}" alt="{{ match.team2 }}">
                    <span class="team-name">{{ match.team2 }}</span>
                    <a href="{% url 'create_bet' %}?bet_match={{ match.id }}&bet_choice={{ match.team2 }}&selected_odd={{ match.odds_team2 }}" class="odds">
                        {{ match.odds_team2 }}
                    </a>
                </div>
            </div>
        </div>
        {% empty %}
        <p>No matches in progress.</p>
        {% endfor %}
    </div>

    <!-- Upcoming Matches -->
    <h2>Upcoming Matches</h2>
    <div class="matches-container">
        {% for match in upcoming_matches %}
        <div class="match-card">
            <div class="match-header">
                {{ match.start_time|date:"g:i A" }} - {{ match.start_time|date:"M d, Y" }}
            </div>
            <div class="match-content">
                <div class="team">
                    <img src="{% static 'images/team_logos/'|add:match.team1|add:'.png' %}" alt="{{ match.team1 }}">
                    <span class="team-name">{{ match.team1 }}</span>
                    <a href="{% url 'create_bet' %}?bet_match={{ match.id }}&bet_choice={{ match.team1 }}&selected_odd={{ match.odds_team1 }}" class="odds">
                        {{ match.odds_team1 }}
                    </a>
                </div>
                <div class="match-vs">VS</div>
                <div class="team">
                    <img src="{% static 'images/team_logos/'|add:match.team2|add:'.png' %}" alt="{{ match.team2 }}">
                    <span class="team-name">{{ match.team2 }}</span>
                    <a href="{% url 'create_bet' %}?bet_match={{ match.id }}&bet_choice={{ match.team2 }}&selected_odd={{ match.odds_team2 }}" class="odds">
                        {{ match.odds_team2 }}
                    </a>
                </div>
            </div>
        </div>
        {% empty %}
        <p>No upcoming matches.</p>
        {% endfor %}
    </div>

    <!-- Recently Completed Matches -->
    <h2>Recently Completed Matches</h2>
    <div class="matches-container">
        {% for match in recent_matches %}
        <div class="match-card">
            <div class="match-header">
                {{ match.start_time|date:"g:i A" }} - {{ match.start_time|date:"M d, Y" }}
            </div>
            <div class="match-content">
                <div class="team">
                    <img src="{% static 'images/team_logos/'|add:match.team1|add:'.png' %}" alt="{{ match.team1 }}">
                    <span class="team-name">{{ match.team1 }}</span>
                    <a href="{% url 'create_bet' %}?bet_match={{ match.id }}&bet_choice={{ match.team1 }}&selected_odd={{ match.odds_team1 }}" class="odds">
                        {{ match.odds_team1 }}
                    </a>
                </div>
                <div class="match-vs">VS</div>
                <div class="team">
                    <img src="{% static 'images/team_logos/'|add:match.team2|add:'.png' %}" alt="{{ match.team2 }}">
                    <span class="team-name">{{ match.team2 }}</span>
                    <a href="{% url 'create_bet' %}?bet_match={{ match.id }}&bet_choice={{ match.team2 }}&selected_odd={{ match.odds_team2 }}" class="odds">
                        {{ match.odds_team2 }}
                    </a>
                </div>
            </div>
        </div>
        {% empty %}
        <p>No recently completed matches.</p>
        {% endfor %}
    </div>

</body>
</html>
{% endblock %}
